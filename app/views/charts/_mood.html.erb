<script> 
$(function () {
       chart = $('#container1').highcharts({
            title: {
                text: 'Mood',
                x: -20 //center
            },
            xAxis: { 
	
                categories: [ 
                              <% @mood_data.each do |t| %> 
                                '<%= t.entry_at.strftime("%m-%d-%Y") %>',  
                              <% end %>
                            ]  ,
                              labels: {
                                              style: {
                                                  color: '#999999'
                                              }
                                          }
            },
            yAxis: {
             
                lineColor: '#FF0000',
							  min: 1, 
								max: 7,
								allowDecimals: false,
								labels: {
								         formatter: function() { 
									          if(this.value == 1){ 
									            return "Severe depression" 
									          }else if(this.value == 2){
										          return "Moderate depression"  
									          }else if(this.value == 3){
										          return "Mild depression" 
									          }else if(this.value == 4){ 
									            return "Normal" 
									          }else if(this.value == 5){
										          return "Mild Elation"  
									          }else if(this.value == 6){
										          return "Moderate Elation" 
									          }else if(this.value == 7){
										          return "Severe Elation" 
									          }
				                        
				                }
								   }
               
            },
            tooltip: {
               formatter: function() { 
				          if(this.y == 1){ 
				            return this.x + "- Severe depression" 
				          }else if(this.y == 2){
					          return this.x + " - Moderate depression"  
				          }else if(this.y == 3){
					          return this.x + " - Mild depression" 
				          }else if(this.y == 4){ 
				            return this.x + "- Normal" 
				          }else if(this.y == 5){
					          return this.x + " - Mild Elation"  
				          }else if(this.y == 6){
					          return this.x + " - Moderate Elation" 
				          }else if(this.y == 7){
					          return this.x + " - Severe Elation" 
				          }
                      
              }
            },
            legend: {
                layout: 'vertical',
                align: 'right',
                verticalAlign: 'middle',
                borderWidth: 0
            },
            series: [{   
	              name: 'Mood',
                data: <%= @mood_data.map{|vv| vv.mood }%>
            }
          ]
        }); 

      	
    });  

</script> 
    
